This section develops a search and matching model of the labor market with two-sided heterogeneity and endogenous remote work arrangements. The model builds on the canonical \textcolor{red}{ADD MAIN MODEL CITATION} framework, extended to include heterogeneity in worker skills and firm capacity for remote work. This framework allows us to analyze how sorting patterns, wage differentials, and aggregate labor market outcomes are shaped by the trade-offs between productivity and the non-pecuniary benefits of remote work.

### Environment

The economy is populated by a continuum of infinitely lived workers and a continuum of firms. Time is discrete and the horizon is infinite. Both workers and firms are risk-neutral and discount the future at a common rate $\beta$.

#### Agents

**Workers** are indexed by their skill level, $h \in \mathcal{H}$ , which is exogenously distributed according to the cumulative distribution function $F_h(h)$ \textcolor{red}{I NEED TO THINK ABOUT THIS MAYBE I DO UNIFORM ON THIS SIDE OF THE MARKET AND PRODUCTIVITY IS BASED ON RANK}. Workers derive utility from their wage, $w$, and the fraction of time they work remotely, $\alpha \in$. The instantaneous utility function is given by $u(w, \alpha)$. We assume utility is quasi-linear to ensure that the choice of $\alpha$ is independent of the wage transfer, which simplifies the bargaining process. Specifically, we adopt the functional form:
$$u(w, \alpha) = w - c(1-\alpha)$$
where $c(1-\alpha)$ represents the disutility from working in the office for a fraction $1-\alpha$ of the time. \textcolor{red}{ADD PROPERTIES OF COST FUNCTION}

**Firms** are indexed by their remote work efficiency, $\psi \in \Psi$, which is exogenously distributed according to the cumulative distribution function $F_\psi(\psi)$. Firms produce a single homogeneous good. The cost of posting $v$ vacancies is given by an increasing and convex function $c(v)$.

**Production Technology:** output is generated by a match between a worker of skill $h$ and a firm with remote efficiency $\psi$. The production function depends on the share of remote work, $\alpha$:
$$Y(\alpha \mid h, \psi) = A(h) \cdot \left[(1 - \alpha) + \alpha \cdot g(h, \psi)\right]$$
where $A(h)$ is the baseline productivity of a worker with skill $h$, and $g(h, \psi)$ is the productivity of remote work relative to in-person work, which is normalized to one. We assume $A'(h) > 0$, so higher-skilled workers are more productive.

The relative productivity of remote work, $g(h, \psi)$, is a key feature of the model, capturing complementarities between worker skill and firm technology. We assume $g_\psi(h, \psi) \geq 0$ and $g_h(h, \psi) \geq 0$, meaning remote work is more effective in firms with higher remote efficiency and for higher-skilled workers. The sign of the cross-partial derivative, $g_{h\psi}$, will determine the nature of sorting in the market.

#### Searching and Matching

The labor market is characterized by search frictions. Let $u(h)$ be the measure of unemployed workers of skill $h$, and $v(\psi)$ be the number of vacancies posted by firms of type $\psi$. The aggregate measures of unemployed workers and vacancies are given respectively by: $$L = \int u(h) dF_h(h) \quad  \text{and} \quad V = \int v(\psi) dF_\psi(\psi)$$
Meetings between unemployed workers and vacancies are governed by a constant returns to scale matching function, $M(L, V)$. The rate at which an unemployed worker contacts a vacancy is $p(\theta) = M(L,V)/L$, and the rate at which a vacancy is filled is $q(\theta) = M(L,V)/V$, where $\theta = V/L$ is the labor market tightness. The probability that a searching worker meets a firm of a specific type $\psi$ is given by the proportion of vacancies of that type, $v(\psi)/V$.

### Value Functions and Bargaining

We now define the value functions for workers and firms and describe the bargaining process that determines wages and work arrangements.

#### Value of Unemployment and Vacancies

An unemployed worker of skill $h$ receives unemployment benefits $b(h)$ and searches for a job. The value of being unemployed, $U(h)$, is described by the following Bellman equation:
$$U(h) = b(h) + \beta \mathbb{E} \left[ \max\{W(h, \psi), U(h)\} \right].$$
where $W(h, \psi)$ is the value to a worker of being employed in a match with a firm of type $\psi$. The expectation is taken over the distribution of vacancies the worker might encounter. Assuming workers get a share $\xi$ of the match surplus, $S(h, \psi)$, through Nash bargaining, we have: $$W(h, \psi) = U(h) + \xi S(h, \psi).$$The value of unemployment can then be written as:
$$U(h) = b(h) + \beta \left[ U(h) + p(\theta) \xi \int S(h, \psi)^+ d\Gamma_v(\psi) \right]$$
where $\Gamma_v(\psi)$ is the endogenous distribution of vacancies and $S(h, \psi)^+ = \max\{S(h, \psi), 0\}$. Solving for $U(h)$ yields:
$$U(h) = \frac{b(h) + \beta p(\theta) \xi \int S(h, \psi)^+ d\Gamma_v(\psi)}{1 - \beta}$$
The value of a vacant position is zero due to a free-entry condition, which will be detailed in the vacancy creation section.

#### Value of a Match and Surplus Sharing

A match between a worker $h$ and a firm $\psi$ generates a flow of output and utility. Matches are subject to an exogenous destruction shock with probability $\delta$. We assume efficient bargaining: the firm and worker first choose the remote work share $\alpha$ to maximize the joint value of the match, and then use the wage $w$ to divide the resulting surplus.

Given the quasi-linear utility, the total flow value generated by a match is the sum of output net of the worker's disutility from in-office work: $Y(\alpha \mid h, \psi) - c(1-\alpha)$. The total surplus of the match, $S(h, \psi)$, is the difference between the value of the match, $J(h, \psi)$, and the worker's outside option, $U(h)$. The surplus evolves according to the Bellman equation:
$$S(h, \psi) = s(h, \psi) + \beta(1-\delta)S(h, \psi) - \beta p(\theta) \xi \int S(h, \psi')^+ d\gamma_v(\psi')$$
where $s(h, \psi)$ is the flow surplus, defined as the maximized joint value net of the worker's flow value of unemployment:
$$s(h, \psi) = \max_{\alpha \in} \left\{ Y(\alpha \mid h, \psi) - c(1-\alpha) \right\} - b(h)$$
Solving for the total match surplus gives:
$$S(h, \psi) = \frac{s(h, \psi) - \beta p(\theta) \xi \int S(h, \psi')^+ d\gamma_v(\psi')}{1 - \beta(1-\delta)}$$
This equation highlights that the value of a match depends not only on its own flow surplus but also on the worker's expected future gains from searching while unemployed.

### Equilibrium

An equilibrium in this economy consists of a set of value functions ($U(h)$, $S(h, \psi)$), policy functions for remote work ($\alpha^*(h, \psi)$) and wages ($w^*(h, \psi)$), vacancy posting decisions ($v(\psi)$), and a distribution of unemployed workers ($u(h)$) and employed workers ($n(h, \psi)$), such that:
1.  The policy functions $\alpha^*(h, \psi)$ and $w^*(h, \psi)$ are determined by efficient bargaining.
2.  Firms' vacancy creation decisions $v(\psi)$ are optimal.
3.  The labor market is in a steady state, where the flows of workers into and out of unemployment are balanced.

#### Optimal Work Arrangements and Wages

The optimal remote work share, $\alpha^*(h, \psi)$, is chosen to maximize the flow surplus. The first-order condition for an interior solution is $Y'(\alpha) = c'(\alpha)$.  This condition equates the marginal gain in output from an additional unit of in-person work to the marginal disutility for the worker. Analyzing this condition at the boundaries $\alpha=0$ and $\alpha=1$ defines two skill-dependent thresholds for firm efficiency, $\underline{\psi}(h)$ and $\overline{\psi}(h)$, which partition the market into three regimes:
$$\alpha^*(h, \psi) = \begin{cases} 0 & \text{if } \psi \leq \underline{\psi}(h) \quad \text{(Full In-Person)} \\ \alpha_{\text{interior}}(h, \psi) & \text{if } \underline{\psi}(h) < \psi < \overline{\psi}(h) \quad \text{(Hybrid)} \\ 1 & \text{if } \psi \geq \overline{\psi}(h) \quad \text{(Full Remote)} \end{cases}$$

Under the assumption of efficient bargaining, the remote work share, $\alpha^*(h, \psi)$, is chosen to maximize the total joint value of the match. The wage, $w$, is then determined as a purely distributional transfer to ensure that the total surplus, $S(h, \psi)$, is divided according to the exogenously given bargaining powers, $\xi$ for the worker and $1-\xi$ for the firm.

The wage is set to deliver the worker their promised lifetime value from the match, $W(h, \psi)$. This value is composed of their outside option, the value of unemployment $U(h)$, plus their share of the total match surplus.

With the optimal physical arrangement $\alpha^*(h, \psi)$ determined, we can solve for the wage $w^*(h, \psi)$ that supports this equilibrium. The wage must be set such that the worker's value from the match equals their outside option plus their bargained share of the surplus. This implies that the wage must deliver the required utility flow and compensate for any in-office disutility.
$$
w^*(h, \psi) = \underbrace{\left( W(h, \psi) - \beta \mathbb{E}[W'] \right)}_{\text{Required utility flow}} \quad + \underbrace{c(\alpha^*(h, \psi))}_{\text{Compensation for in-office work}}
$$

#### Vacancy Creation

Firms post vacancies up to the point where the marginal cost of posting equals the expected marginal benefit. The expected benefit is the probability of filling a vacancy, $q(\theta)$, multiplied by the firm's share of the expected surplus from a new match. The free-entry condition is therefore:
$$c'(v(\psi)) = q(\theta) (1-\xi) \int S(h, \psi)^+ \frac{u(h)}{L} dF_h(h)$$
This condition determines the number of vacancies $v(\psi)$ for each firm type, which in turn determines the aggregate market tightness $\theta$ and the distributions of job-finding and job-filling probabilities.

#### Steady-State Flows

In a steady-state equilibrium, the mass of workers of each type and in each state (employed or unemployed) is constant. This requires that the flow of workers out of unemployment equals the flow into unemployment. The flow out of unemployment for workers of skill $h$ is: $$p(\theta) u(h) \int \mathbb{1}_{\{S(h, \psi) > 0\}} d\Gamma_v(\psi).$$It is the product of the mass of unemployed workers of skill $h$ , and their effective job-finding rate, which is the probability of meeting any firm $p(\theta)$ , multiplied by the probability that a meeting results in a mutually agreeable match (i.e., one with positive surplus, $S(h, \psi)>0$). The flow into unemployment is the sum of all job destructions: $$\delta \int n(h, \psi) dF_\psi(\psi).$$
The steady-state condition (Beveridge curve) is given by equating the aggregate flows:
$$\delta \iint n(h, \psi) dF_\psi(\psi) dF_h(h) = p(\theta) \int u(h) \left( \int \mathbb{1}_{\{S(h, \psi) > 0\}} d\gamma_v(\psi) \right) dF_h(h)$$
The equilibrium is a fixed point where firms' vacancy decisions are optimal given expected surpluses, and these surpluses are consistent with the hiring probabilities that result from those same vacancy decisions.