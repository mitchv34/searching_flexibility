## Model Set-Up
### Agents
- Continuum of infinitely lived workers indexed by skill/productivity $h\in \mathcal{H}$
	- Workers skills are exogenously distributed $h \sim F_h(h)$
- Continuum of firms indexed by remote efficiency $\psi\in \Psi$
	- Remote efficiency is exogenously distributed $\psi \sim F_\psi(\psi)$
- The cost of posting $v$ job opportunities is given by the exogenous function $c(v)$.
### Preferences
*   **Utility Function:** $u(w, \alpha)$
    *   $w$: Represents the wage received by the worker.
    *   $\alpha \in [0,1]$: Represents the fraction of time the worker spends working remotely. $\alpha=0$ means full in-person work, and $\alpha=1$ means full remote work.
    *   **Assumptions on Utility:**
        1.  **Continuously Differentiable and Concave:** This ensures well-behaved preferences and allows for the use of calculus in optimization. Concavity implies diminishing marginal utility from both wage and remote work (if considered separately).
        2.  **Increasing in Consumption:** $u_w(w, \alpha) = \frac{\partial u}{\partial w} > 0$. Workers prefer higher wages (more consumption).
        3.  **Increasing in Remote Work:** $u_\alpha(w, \alpha) = \frac{\partial u}{\partial \alpha} > 0$. Workers derive utility from working remotely (e.g., flexibility, reduced commute).
        4.  **Key Assumption (MRS):** The Marginal Rate of Substitution (MRS) between remote work and consumption, $MRS_{\alpha,w} = \frac{u_\alpha(w,\alpha)}{u_w(w,\alpha)}$, is *increasing* in $\alpha$.
            *   This means that as a worker gets more remote work (higher $\alpha$), the amount of wage they are willing to forgo for an *additional* unit of remote work increases. Equivalently, to compensate them for a reduction in $\alpha$ when $\alpha$ is already high, the required wage increase is larger.
            *   This non-standard assumption can reflect factors like lifestyle adjustments that make high levels of remote work particularly valuable, or fixed costs associated with any amount of in-office presence. It can lead to a stronger tendency towards corner solutions for $\alpha$ (either fully remote or fully in-person).
### Technology
*   **Production Function:**$$
    Y(\alpha \mid \psi, h) = A(h) \cdot \left((1 - \alpha) + \alpha \cdot g(h, \psi)\right)
    $$
    *   $A(h)$: This is the baseline contribution to output from a worker with skill $h$. It's assumed $A'(h) > 0$, so higher skill leads to higher baseline productivity.
    *   $(1 - \alpha)$: Represents the proportion of output derived from in-person work, with its efficiency normalized to 1.
    *   $\alpha \cdot g(h, \psi)$: Represents the proportion of output derived from remote work.
    *   $g(h, \psi)$: This is the efficiency adjustment factor for remote work.
        *   If $g(h, \psi) = 1$, remote work is as productive as in-person work.
        *   If $g(h, \psi) < 1$, remote work is less productive.
        *   If $g(h, \psi) > 1$, remote work is more productive.
        *   $g_\psi(\psi, h) = \frac{\partial g}{\partial \psi} \geq 0$: Remote work efficiency (weakly) increases with the firm's remote-work efficiency parameter $\psi$.
        *   $g_h(\psi, h) = \frac{\partial g}{\partial h} \geq 0$: Remote work efficiency (weakly) increases with worker skill $h$. This implies skilled workers might be better at, or better equipped for, remote work.
        *   The term $g_{h\psi} = \frac{\partial^2 g}{\partial h \partial \psi}$ (cross-partial derivative) will be crucial for sorting. If $g_{h\psi} > 0$, there's complementarity between worker skill and firm remote-work efficiency.
### Meeting Technology
- Let $u(h)$ denote the stock of unemployed of type-$h$ workers. The aggregate search effort is denoted by $$L = \int u(h)\,dF_{h}(h)$$
- Let $v(\psi)$ denote the stock of type-$\psi$ job opportunities. The aggregate number of job opportunities denoted by $$V = \int v(\psi)\,dF_{\psi}(\psi)$$
- The total measure of meetings is given by $M= M(L, V)$.
- Define $p = M/L$ as the probability an unemployed searcher contacts a vacancy,
- Let $q = M/V$ be the probability that a given vacancy is filled.

## Value Functions
- Let $U(h)$ be the value of unemployment of a type-$h$ worker.
- Let $J(h, \psi)$ denote the present value of a match $(h, \psi)$, which accounts for the flow of output and utility generated within the match and the discounted continuation values, whether the match continues or is destroyed.
- We denote as $S(h, \psi)$ the surplus generated by a match between a type-$h$ worker and a type-$\psi$ firm.
	- We define the match surplus $$S(h, \psi) = J(h, \psi ) - U(h)$$
### The Value of Unemployment
- During unemployment workers earn $b(h)$, which depends on her own type.
- Anticipates that will meet a vacancy of type $\psi$ with probability $p \frac{v(\psi)}{V}$.
- Let $W(h, \psi)$ be the value to a type-$h$ worker who is hired from unemployment by a firm of type $\psi$.
	- We assume $W(h, \psi)$ is determined via Nash bargaining, i.e workers get a fraction $\xi$ of total surplus generated by a match, plus their reservation value (which is unemployment). Thus $$W(h, \psi) = U(h) + \xi S(h,\psi).$$
-  The value to this unemployed worker is then: $$U(h) = b(h) + \beta \left[(1 - p)U(h) + p\int \max\{W(h,\psi), U(h)\} \frac{v(\psi)}{V}\,d(\psi) \right].$$
	- Notice that we can plug the expression for $W(h, \psi)$ to obtain: $$ U(h) = b(h) + \beta \left[U(h) + p \xi \int S(h, \psi)^+ d\gamma_{1}(\psi)\right]. $$
		- The distribution $\gamma_{1}(\psi) = \frac{v(\psi)}{V}$ is an equilibrium object.
		- The notation $x^+$ denotes $\max\{x, 0\}$.
		- We can go further and obtain a closed form solution of $U(h)$ in terms of $S(h,\psi)$: 
		$$U(h) = \frac{b(h) + \beta p \xi \int S(h, \psi)^+ d\gamma_{1}(\psi)}{1-\beta}$$
### The Value and Surplus of a Match

#### Value of a Match
- A match $(h, \psi)$ produces $Y(\alpha^*(h, \psi) \mid \psi, h)$, and the continuation value depends on whether the match is destroyed at the beginning of the next period or not.
	- We assume that the value $\alpha^*(\psi, h)$ is the optimal value of $\alpha$ offered by the firm to the workers to achieve their bargained level of lifetime value $W(h, \psi)$.
	- The optimal value $\alpha^*(\psi, h)$ and $W(h, \psi)$ imply a wage level $w^*(h, \psi)$.
- Assuming zero fixed investment in job creation, any vacancy generated by job destruction is lost and has zero continuation value. There is no severance payment or experience rating.
- Matches a destroyed exogenously with probability $\delta$ (matches survive with probability $1 - \delta$).
- After destruction the firm gets $0$ and the worker get their reservation value $U(h)$.
- The value of a match is thus: $$J(h, \psi) = \underbrace{(Y(\alpha^*(h, \psi) \mid \psi, h) - w )}_{\text{firm instant profits}}+ u(w, h) + \beta \left[(1 - \delta) J(h, \psi)  + \delta U(h)\right]$$
- The total flow value generated by a match is the sum of the firm's profit ($Y-w$) and the worker's utility ($u(w, \alpha)$). To ensure that the choice of $\alpha$ is independent of the wage transfer $w$, we assume a quasi-linear utility function. To be consistent with the wage derivation below, we use the form $u(w, \alpha) = w - c(1 -\alpha)$, where $c(1-\alpha)$ is the disutility of not working remotely. 
	- This assumption greatly simplifies the problem: $$J(h, \psi) = \underbrace{Y(\alpha^*(h, \psi) \mid \psi, h) - c(1-\alpha))}_{\text{Instant Joint Value}}+ u(w, h) + \beta \left[(1 - \delta) J(h, \psi)  + \delta U(h)\right]$$
- We assume the firm and worker engage in **efficient bargaining**. This means they first choose the non-transferable characteristics of the job—in this case, the remote work share $\alpha$—to maximize the total value generated by the match. The wage, $w$, is then used as a transfer to divide this maximized surplus according to their respective bargaining powers.
- This leads to an optimal $\alpha^*(h, \psi)$ as detailed in the next section.
#### Total Surplus

- The total match surplus $S(h, \psi)$ is defined as the difference between the value of the match and the value of unemployment, $S(h, \psi) = J(h, \psi) - U(h)$. We can derive its value by manipulating the Bellman equations for $J$ and $U$.   
	- Substitute the Bellman equations of $J(h, \psi)$ and $U(h)$:$$\begin{align*}
S(h, \psi) &= J(h, \psi) - U(h) \\
& = s(h, \psi) + \beta \left[(1 - \delta) J(h, \psi)  + \delta U(h)\right] - \beta \left[U(h) + p \xi \int S(h, \psi)^+ d\gamma_{1}(\psi)\right]\\
& = s(h, \psi) + \beta \left[(1 - \delta) J(h, \psi)  + \delta U(h) - U(h) - p \xi \int S(h, \psi)^+ d\gamma_{1}(\psi)\right]\\
& = s(h, \psi) + \beta \left[(1 - \delta) J(h, \psi)  - (1 -\delta )U(h) - p \xi \int S(h, \psi)^+ d\gamma_{1}(\psi)\right]\\
& = s(h, \psi) + \beta \left[(1 - \delta) \left(J(h, \psi)  - U(h)\right) - p \xi \int S(h, \psi)^+ d\gamma_{1}(\psi)\right]\\
& = s(h, \psi) + \beta \left[(1 - \delta) S(h, \psi) + p \xi \int S(h, \psi)^+ d\gamma_{1}(\psi)\right]
\end{align*}$$
	- We can solve for S(h, \psi)  to obtain:$$ S(h, \psi) = \frac{s(h, \psi) - \beta p \xi \int S(h, \psi')^+ d\gamma_{1}(\psi')}{1 - \beta(1 - \delta)} $$
		- where $s(h, \psi)$ denotes the flow match surplus, (i.e, the maximized joint value from above, net of the worker's outside option, $b(h)$):$$
s(h, \psi) = \left[ Y(\alpha^*(h, \psi) \mid \psi, h) - c( \alpha^*(h, \psi)) \right] - b(h)
$$
- This shows how the present value of the surplus depends on the current flow surplus net of the worker's expected future gains from search while unemployed.

### **Optimal Work Arrangements and Wage Determination**

This section details the microeconomic foundation of our model: the choice of the optimal remote work share, $\alpha$, and the resulting wage, $w$. The aim is to derive policy functions, $\alpha^*(h, \psi)$ and $w^*(h, \psi)$, that explicitly map worker and firm characteristics to a specific work arrangement and its corresponding wage. This mechanism is the core driver of the sorting patterns and aggregate outcomes in our economy.

The logic proceeds in two parts. First, we derive the optimal physical arrangement, $\alpha^*$, by solving the joint surplus maximization problem for a firm-worker match. This yields the explicit threshold functions that segment the labor market into three distinct regimes: *Full In-Person*, *Hybrid*, and *Full Remote*. Second, with the optimal arrangement determined, we derive the wage that must be paid in equilibrium, showing how it includes a compensating differential for the disutility of in-office work.

#### **Deriving the Optimal Work Arrangement ($\alpha^*$)**

**The General Maximization Problem**
Under the assumption of efficient bargaining, the firm and worker choose the remote work share $\alpha$ to maximize the total joint flow value of the match. Because of the quasi-linear utility function, the wage $w$ is a pure transfer and does not affect the choice of $\alpha$. The problem simplifies to maximizing the sum of output $Y(\alpha)$ minus the worker's in-office disutility $c(\alpha)$:
$$
\max_{\alpha \in [0,1]} \quad  J(\alpha) =  Y(\alpha \mid \psi, h) - c(\alpha)
$$
The First-Order Condition (FOC) for an interior solution is $J'(\alpha) = Y'(\alpha) - c'(\alpha) = 0$, which means the marginal benefit of increasing remote work must equal its marginal cost (the reduction in the in-office cost).

**Specifying the Production and Cost Functions**
To solve this problem explicitly, we introduce specific functional forms for output and cost.

*   **Output Function $Y(\alpha)$:** Output is a linear combination of in-person and remote productivity:
    $$ Y(\alpha \mid \psi, h) = A(h) \cdot \left((1 - \alpha) + \alpha \cdot g(h, \psi)\right) $$
    *   $A(h) = A_{1}h$: The baseline productivity of a match, $A(h)$, is linear in worker skill $h$. The parameter $A_{1}$ is a general productivity scaling factor.
    *   $g(h, \psi) = \nu\psi - \psi_0 + \phi\log(h)$: This function captures the productivity of remote work *relative* to in-person work.
        *   $\nu$: The remote productivity multiplier, scaling the direct impact of a firm's remote efficiency $\psi$.
        *   $\psi_0$: A baseline remote work friction or fixed cost that must be overcome.
        *   $\phi$: The skill-remote complementarity parameter. If $\phi > 0$, higher skill makes remote work more effective, with diminishing returns due to the $\log(h)$ form.

*   **In-Office Cost Function $c(\alpha)$:** The worker's disutility from in-office work is given by:
    $$ c(\alpha) = c_0 \frac{(1-\alpha)^{1+\chi}}{1+\chi} $$
    *   $c_0$: A scaling parameter representing the magnitude of the in-office disutility.
    *   $\chi$: The curvature parameter. It governs how quickly the marginal disutility of in-person time changes as $\alpha$ varies.

Substituting these forms into the FOC, $Y'(\alpha) = c'(\alpha)$, yields the fundamental equation for an interior solution:
$$
A_1h \left( 1 - (\nu\psi - \psi_0 + \phi\log(h)) \right) = c_0(1-\alpha)^{\chi}
$$
Solving for the interior solution $\alpha^*$ gives:
$$
\alpha^* = 1 - \left[ \frac{A_1h \left( 1 - g(\psi,h) \right)}{c_0} \right]^{\frac{1}{\chi}}
$$
This interior solution is only valid when $0 < \alpha^* < 1$. The boundaries of this region are determined by analyzing the FOC at the corners $\alpha=0$ and $\alpha=1$. This analysis yields two thresholds:

*   **The Upper Threshold, $\overline{\psi}(h)$:** Defined by $g(\overline{\psi}(h), h) = 1$.
*   **The Lower Threshold, $\underline{\psi}(h)$:** Defined by $g(\underline{\psi}(h), h) = 1 - c_0/A(h)$.

Plugging in our specific functional forms gives the final policy function:
$$
\alpha^{*}(\psi,h) = \begin{cases}
    0 & \text{if } \psi \leq \underline{\psi}(h) \\
    1 - \left[ \frac{A_1h \left( 1 - (\nu\psi - \psi_0 + \phi\log(h)) \right)}{c_0} \right]^{\frac{1}{\chi}} & \text{if } \underline{\psi}(h) < \psi < \overline{\psi}(h) \\
    1 & \text{if } \psi \geq \overline{\psi}(h)
\end{cases}
$$
where $\underline{\psi}(h)$ and $\overline{\psi}(h)$ are the explicit threshold formulas derived previously.

#### **Deriving the Equilibrium Wage ($w^*$)**

Under the assumption of efficient bargaining, the remote work share, $\alpha^*(h, \psi)$, is chosen to maximize the total joint value of the match (derived in the previous section). The wage, $w$, is then determined as a purely distributional transfer to ensure that the total surplus, $S(h, \psi)$, is divided according to the exogenously given bargaining powers, $\xi$ for the worker and $1-\xi$ for the firm.

The wage is set to deliver the worker their promised lifetime value from the match, $W(h, \psi)$. This value is composed of their outside option, the value of unemployment $U(h)$, plus their share of the total match surplus.

With the optimal physical arrangement $\alpha^*(h, \psi)$ determined, we can solve for the wage $w^*(h, \psi)$ that supports this equilibrium. The wage must be set such that the worker's value from the match equals their outside option plus their bargained share of the surplus. This implies that the wage must deliver the required utility flow and compensate for any in-office disutility.
$$
w^*(h, \psi) = \underbrace{\left( W(h, \psi) - \beta \mathbb{E}[W'] \right)}_{\text{Required utility flow}} \quad + \underbrace{c(\alpha^*(h, \psi))}_{\text{Compensation for in-office work}}
$$
Substituting the full expressions for the value functions gives the final wage equation:
$$
w^*(h, \psi) = \underbrace{\left( \left[ U(h) + \xi S(h, \psi) \right] \left( 1 - \beta(1-\delta) \right) - \beta \delta U(h) \right)}_{\text{Base Wage Component}} + \underbrace{c_0 \frac{(1-\alpha^*(h, \psi))^{1+\chi}}{1+\chi}}_{\text{Compensating Differential}}
$$
This expression clearly separates the wage into two economically distinct components:
1.  **Base Wage Component:** The monetary payment required to ensure the worker receives their bargained share of the match value, accounting for the possibility of future job loss.
2.  **Compensating Differential:** An additional payment that exactly compensates the worker for the disutility associated with the fraction of time, $(1-\alpha^*)$, they are required to spend working in the office. If a worker is fully remote ($\alpha^*=1$), this second term becomes zero.
### **Vacancy Creation**

The number of jobs offered by firms is determined by a profit-maximization principle. Firms will continue to post new vacancies until the marginal cost of posting one more job equals the expected benefit from that job opening. This condition determines the equilibrium number of vacancies for each firm type, $v(\psi)$, and in aggregate, the overall market tightness.

Let $c(v)$ be the cost for a firm of type $\psi$ to post $v$ vacancies, with standard assumptions that the cost is increasing and convex ($c'(v) > 0$ and $c''(v) > 0$). The convexity implies that the marginal cost of creating an additional vacancy is rising.

The expected benefit, $B(\psi)$, of posting an additional vacancy depends on three factors:
1.  The probability of filling the vacancy, which is the job-filling rate, $q$. This rate is common to all firms and depends on the aggregate market tightness, $\theta = V/L$.
2.  The distribution of unemployed workers a firm might meet. The probability of meeting a worker of a specific skill level $h$, given a meeting occurs, is $\frac{u(h)}{L}$, where $u(h)$ is the measure of unemployed workers of type $h$ and $L$ is the total mass of unemployed workers.
3.  The value to the firm from a successful match. Upon forming a match $(h, \psi)$, the firm receives a fraction $(1-\xi)$ of the total match surplus, $S(h, \psi)$. A match is only formed if this surplus is positive.

Combining these elements, the expected present value of the benefit from posting one more vacancy is:
$$
B(\psi) = \int (1-\xi) S(h, \psi)^+ \frac{u(h)}{L} dF_{h}(h)
$$
In equilibrium, a firm of type $\psi$ will choose its number of vacancies, $v(\psi)$, to equate the marginal cost with the expected marginal benefit. This gives us the **vacancy creation condition**:
$$
c'(v(\psi)) = q \int (1-\xi) S(h, \psi)^+ \frac{u(h)}{L} dF_{h}(h)
$$

This equation, along with the equations for the surplus $S(h, \psi)$ and the steady-state distribution of unemployed workers $u(h)$, closes the model. It creates a relationship between the number of vacancies of each type, the job-filling rate $q$, and the job-finding rate $p$, ultimately determining the equilibrium state of the labor market.


### **Labor Market Flows and Steady-State Equilibrium**

To complete the model, we must characterize the flows of workers between employment and unemployment. In a steady-state equilibrium, these flows must balance perfectly, ensuring that the aggregate measures of employment and unemployment remain constant over time.

Let $n(h, \psi)$ be the steady-state measure of workers with skill $h$ employed at firms with remote-work efficiency $\psi$, and let $u(h)$ be the measure of unemployed workers with skill $h$. 

#### **Worker Flows**

The evolution of the measure of matches of type $(h, \psi)$ over time is described by the following law of motion:
$$
n(h, \psi)_{t+1} = (1-\delta) n(h, \psi)_{t} + p \cdot u(h)_t \cdot \frac{v(\psi)_t f_{\psi}(\psi)}{V_t} \cdot \mathbb{1}_{\{S(h, \psi) > 0\}}
$$
This equation states that the number of $(h, \psi)$ matches in the next period, $n(h, \psi)_{t+1}$, is equal to:
1.  The share of existing matches that survive the exogenous destruction shock, $(1-\delta) n(h, \psi)_{t}$.
2.  The new matches formed between unemployed workers of type $h$ and vacancies of type $\psi$. This flow is the product of the job-finding rate ($p$), the mass of searching workers ($u(h)_t$), and the probability of meeting a firm of type $\psi$ ($\frac{v(\psi)_t}{V_t}$). The indicator function, $\mathbb{1}_{\{S(h, \psi) > 0\}}$, ensures that matches are only formed when it is mutually beneficial for the worker and the firm (i.e., when the surplus is positive).

#### **Steady-State Condition**

In a steady state, all stocks are constant, meaning $n(h, \psi)_{t+1} = n(h, \psi)_{t} = n(h, \psi)$. Applying this to the law of motion gives:
$$
n(h, \psi) = (1-\delta) n(h, \psi) + p \cdot u(h) \cdot \frac{v(\psi) f_{\psi}(\psi)}{V} \cdot \mathbb{1}_{\{S(h, \psi) > 0\}}
$$
Rearranging this equation shows that, for any specific match type $(h, \psi)$, the outflow due to job destruction must equal the inflow from new hiring:
$$
\delta \cdot n(h, \psi) = p \cdot u(h) \cdot \frac{v(\psi)f_{\psi}(\psi)}{V} \cdot \mathbb{1}_{\{S(h, \psi) > 0\}}
$$
This provides a steady-state expression for the measure of each type of match.

To close the model, we impose the condition that the **total flow of workers out of employment must equal the total flow of workers into employment** across the entire economy.

1.  **Total Inflow to Unemployment (Job Destruction):** This is the sum of all workers who lose their jobs, found by integrating the job destruction rate $\delta$ over all existing matches: $$\text{Flow into Unemployment} = \delta \int_{\mathcal{H}} \left(\int_{\Psi} n(h, \psi) dF_\psi(\psi) \right)dF_h(h)$$
2.  **Total Outflow from Unemployment (Job Creation):** This is the sum of all unemployed workers who find a new, acceptable job:
    $$
    \text{Flow out of Unemployment} = \int_{\mathcal{H}} \left( p \cdot u(h) \cdot \int_{\Psi} \frac{v(\psi) f(\psi)}{V} \cdot \mathbb{1}_{{S(h, \psi) > 0} } dF_\psi(\psi) \right) dF_h(h)
    $$

Equating these two aggregate flows gives the fundamental steady-state equilibrium condition (Beveridge curve) for the labor market: 
$$\delta \iint n(h, \psi) \,dF_\psi(\psi) \,dF_h(h) = p \int u(h) \left( \int \frac{v(\psi) f(\psi)}{V} \mathbb{1}_{\{S(h, \psi) > 0\} } \,dF_\psi(\psi) \right) \,dF_h(h)$$

The core of the problem is finding a **fixed point**. The equilibrium is a state where firms' vacancy posting decisions are optimal given the surplus they expect, and the surplus they expect is correct given the hiring probabilities and worker outside options, which in turn depend on firms' vacancy posting decisions.

## Parametrization and Derivation
### Firm's Vacancy Posting Problem

A firm of type $\psi$ chooses the number of vacancies $v$ to post to maximize its expected profit. The profit function is the expected benefit minus the total cost:
$$Π(v(\psi)) = q B(\psi)  v - c(v)$$
where:
*   $B(\psi) = (1-ξ)\mathbb{E}_h[S(h,\psi)^{+}]$ is the firm's expected benefit *per filled vacancy*.
*   $c(v) = \left(\kappa_0 v^{1 + \kappa_1}\right)/(1 + \kappa_1)$  is the total cost of posting $v$ vacancies.

The firm's first-order condition (FOC) for profit maximization is $Π'(v) = 0$, which implies that the marginal benefit must equal the marginal cost:$$\Pi'(v) = 0 \qquad \implies \qquad q B(\psi) = c'(v) \qquad \implies \qquad q B(\psi) = \kappa_{0} v(\psi)^{\kappa_{1}}$$
### Matching and Probabilities (Cobb-Douglas)

*   **Matching Function:** $M(L, V) = \gamma_{0} L^{\gamma_{1}} V^{1-\gamma_{1}}$
*   **Market Tightness:** $\theta = V/L$
*   **Job-Filling Rate (firm's probability of meeting a worker):**$$q(\theta) = \frac{M}{V} = \gamma_{0}\frac{L^{\gamma_{1}} V^{1-\gamma_{1}}}{V}= \gamma_{0}\left( \frac{L}{V} \right)^{\gamma_{1}} = \gamma_{0}\left( \frac{1}{\theta } \right)^{\gamma_{1}} =\gamma_{0} θ^{-\gamma_{1}}$$
*   **Job-Finding Rate (worker's probability of meeting a firm):**$$p(\theta) = \frac{M}{L} = \gamma_{0}\frac{L^{\gamma_{1}} V^{1-\gamma_{1}}}{L}= \gamma_{0}\left( \frac{V}{L} \right)^{1-\gamma_{1}} = \gamma_{0}θ^{1-\gamma_{1}}$$
#### Deriving the Optimal $v(\psi)$

Now, we solve the FOC for $v(\psi)$:
$$q B(\psi) = \kappa_{0} v(\psi)^{\kappa_{1}} \qquad \implies \qquad v(\psi) = \left( \frac{B(\psi)}{\kappa_{0}} q \right)^{1/\kappa_{1}}$$

Substituting $q$,  gives the expression for $v(\psi)$ as a function of market tightness $\theta$ and the firm's expected benefit $B(\psi)$
$$
v(\psi) = \left( \frac{B(\psi)}{\kappa_{0}} \frac{\gamma_{0}}{\theta^{\gamma_{1}}} \right)^{1/\kappa_{1}}$$
Of course, let's continue the derivation for the equilibrium market tightness $\theta$ with the modified matching function.

#### Deriving the Equilibrium Market Tightness $\theta$

The equilibrium in the market is determined when the market tightness, defined as $\theta = V/L$, aligns with the aggregate outcomes of agents' decisions.

The aggregate number of vacancies, $V$, is obtained by integrating the optimal number of vacancies $v(\psi)$ for each firm type across the distribution of firm types, $F_{\psi}(\psi)$. Using the newly derived expression for $v(\psi)$:
$$v(\psi) = \left( \frac{\gamma_0 B(\psi)}{\kappa_0 \theta^{\gamma_1}} \right)^{1/\kappa_1}$$
The aggregate vacancies $V$ is:
$$V = \int v(\psi) dF_{\psi}(\psi) \implies V = \int \left( \frac{\gamma_0 B(\psi)}{\kappa_0 \theta^{\gamma_1}} \right)^{1/\kappa_1} dF_{\psi}(\psi)$$
We can separate the terms that are not dependent on the firm type $\psi$ from the integral:
$$V = \left( \frac{\gamma_0}{\kappa_0 \theta^{\gamma_1}} \right)^{1/\kappa_1} \int [B(\psi)]^{1/\kappa_1} dF_{\psi}(\psi) = \frac{1}{\theta^{\gamma_1/\kappa_1}} \left( \frac{\gamma_0}{\kappa_0} \right)^{1/\kappa_1} \int [B(\psi)]^{1/\kappa_1} dF_{\psi}(\psi)$$
To find the equilibrium, we substitute $V = \theta L$ into the left-hand side of the equation:
$$\theta L = \frac{1}{\theta^{\gamma_1/\kappa_1}} \left( \frac{\gamma_0}{\kappa_0} \right)^{1/\kappa_1} \int [B(\psi)]^{1/\kappa_1} dF_{\psi}(\psi)$$
Now, we solve for the equilibrium market tightness $\theta$. First, group the $\theta$ terms by multiplying both sides by $\theta^{\gamma_1/\kappa_1}$:
$$\theta^{1 + \gamma_1/\kappa_1} L = \left( \frac{\gamma_0}{\kappa_0} \right)^{1/\kappa_1} \int [B(\psi)]^{1/\kappa_1} dF_{\psi}(\psi)$$
Next, isolate the $\theta$ term by dividing by the total number of unemployed workers, $L$:
$$\theta^{1 + \gamma_1/\kappa_1} = \frac{1}{L} \left( \frac{\gamma_0}{\kappa_0} \right)^{1/\kappa_1} \int [B(\psi)]^{1/\kappa_1} dF_{\psi}(\psi)$$
Finally, to solve for $\theta$, we raise both sides to the power of $\frac{\kappa_1}{\kappa_1 + \gamma_1}$:
$$\theta = \left( \frac{1}{L} \left( \frac{\gamma_0}{\kappa_0} \right)^{1/\kappa_1} \int [B(\psi)]^{1/\kappa_1} dF_{\psi}(\psi) \right)^{\frac{\kappa_1}{\kappa_1 + \gamma_1}}$$


### Matching and Probabilities (CES)

*   **Matching Function:** $M(L, V) = (L^{-\gamma} + V^{-\gamma})^{-1/\gamma}$
*   **Market Tightness:** $\theta = V/L$
*   **Job-Filling Rate (firm's probability of meeting a worker):**$$q(\theta) = \frac{M}{V} = \frac{(L^{-\gamma} + V^{-\gamma})^{-1/\gamma}}{V}=\left( \left(L^{-\gamma} + V^{-\gamma} \right) V^{\gamma}\right)^{-1/\gamma} = \left( L^{-\gamma}V^{\gamma} + 1\right)^{-1/\gamma} = (\theta^\gamma + 1)^{-1/\gamma}$$
*   **Job-Finding Rate (worker's probability of meeting a firm):**$$p(\theta) = \frac{(L^{-\gamma} + V^{-\gamma})^{-1/\gamma}}{L}=(\theta^{-\gamma}+1)^{-1/\gamma} = (\theta^{-\gamma}(1+\theta^\gamma))^{-1/\gamma} = \theta(1+\theta^\gamma)^{-1/\gamma} = \theta q(\theta)$$
#### Deriving the Equilibrium Market Tightness $\theta$

The firm's profit maximization problem and its first-order condition (FOC) are independent of the specific form of the matching function. They only depend on the existence of a job-filling probability `q`. Thus, the FOC remains:
$$q B(\psi) = \kappa_{0} v(\psi)^{\kappa_{1}}$$
Solving for the optimal number of vacancies, $v(\psi)$, gives:
$$v(\psi) = \left( \frac{B(\psi)}{\kappa_{0}} q \right)^{1/\kappa_{1}}$$
Now, we substitute our newly derived expression for $q = (\theta^{\gamma} + 1)^{-1/\gamma}$:
$$v(\psi) = \left( \frac{B(\psi)}{\kappa_{0}} (\theta^{\gamma} + 1)^{-1/\gamma} \right)^{1/\kappa_{1}}$$
The equilibrium condition is that the aggregate number of vacancies, $V$, which results from firm behavior, must be consistent with the market tightness, $\theta = V/L$.

First, we find the aggregate number of vacancies by integrating the individual firms' optimal vacancies over the distribution of firm types:
$$V = \int v(\psi) dF_{\psi}(\psi) = \int \left( \frac{B(\psi)}{\kappa_{0}} (\theta^{\gamma} + 1)^{-1/\gamma} \right)^{1/\kappa_{1}} dF_{\psi}(\psi)$$
We can separate the terms dependent on $\theta$ from the integral, as they are constant with respect to the firm type $\psi$:
$$V = \left( (\theta^{\gamma} + 1)^{-1/\gamma} \right)^{1/\kappa_1} \int \left( \frac{B(\psi)}{\kappa_{0}} \right)^{1/\kappa_{1}} dF_{\psi}(\psi)$$
$$V = (\theta^{\gamma} + 1)^{-1/(\gamma\kappa_1)} \int \left( \frac{B(\psi)}{\kappa_{0}} \right)^{1/\kappa_{1}} dF_{\psi}(\psi)$$
Now, we substitute $V = \theta L$ into the left-hand side to impose the equilibrium condition:
$$\theta L = (\theta^{\gamma} + 1)^{-1/(\gamma\kappa_1)} \int \left( \frac{B(\psi)}{\kappa_{0}} \right)^{1/\kappa_{1}} dF_{\psi}(\psi)$$
To solve for $\theta$, we group all terms involving $\theta$ on one side:
$$\theta (\theta^{\gamma} + 1)^{1/(\gamma\kappa_1)} = \frac{1}{L} \int \left( \frac{B(\psi)}{\kappa_{0}} \right)^{1/\kappa_{1}} dF_{\psi}(\psi)$$
This final equation implicitly defines the equilibrium market tightness $\theta$. Unlike the Cobb-Douglas case, we cannot isolate $\theta$ to find a clean, closed-form solution. The equilibrium $\theta$ is the value that solves this equation.
## Algorithm: Solving for Equilibrium

### **Phase 0: Setup and Discretization**

1.  **Discretize State Spaces:**
    *   Create discrete grids for worker skills `h` and firm types `ψ`.

2.  **Define Parameters and Functions:**
    *   Set all scalar parameters: `β`, `δ`, `ξ`, `b`.
    *   Set the parameters for the specific functional forms:
        *   **Matching:** `\gamma_{1}` (from `M = L^{\gamma_{1}} V^(1-\gamma_{1})`).
        *   **Vacancy Cost:** `κ₀`, `κ₁` (from `c(v) = κ₀v^(1+κ₁)/(1+κ₁)`).
    *   Define and pre-calculate `A(h)`, `g(h, ψ)`, etc., on the grids.
    *   Define the exogenous population distribution `N(h)`.

3.  **Pre-calculate Static Policies & Values:**
    *   Calculate the optimal remote work policy `α*(h, ψ)` for all `(h, ψ)` pairs.
    *   Calculate the flow surplus `s(h, ψ) = Y(α*) + non_wage_utility(α*) - b(h)` for all `(h, ψ)` pairs. This is constant throughout the solution process.

---

### **Phase 1: The Main Fixed-Point Iteration**

The goal is to find a **fixed point for the surplus matrix `S`**. The equilibrium is a state where the surplus `S` generates a market tightness `θ` and unemployment `u` which, in turn, generate back the same surplus `S`.

**Main Loop:** Iterate until the surplus matrix `S(h, ψ)` converges.

1.  **Initialize:** Make initial guesses for the core endogenous objects:
    *   `S_k(h, ψ)`: A matrix, e.g., of zeros.
    *   `u_k(h)`: A vector, e.g., `u_k(h) = N(h)` (all workers are initially unemployed).

2.  **Start the main iteration (indexed by `k`):**
    a.  **Store the old surplus matrix:** `S_old = S_k`.

    b.  **Calculate Firm's Expected Benefit `B(ψ)`:**
    *   Calculate the aggregate mass of unemployed workers: `L_k = sum(u_k)`.
	*   Calculate the distribution of unemployed workers: `u_dist_k(h) = u_k(h) / L_k`.
	*   For each firm type `ψ`, calculate its expected benefit from hiring, using the surplus from the *previous* iteration `S_old`:
          `B_k(ψ) = sum over h [ (1-ξ) * max(0, S_old(h, ψ)) * u_dist_k(h) ]`.

    c.  **Calculate the new Equilibrium Market Tightness `θ_{k+1}`:**
    *   Use the closed-form equation derived from the model's specific functional forms:
          `IntegralTerm = sum over ψ [ (B_k(ψ) / κ₀)^(1/κ₁) * N(ψ) ]` (where `N(ψ)` is the firm distribution).
          `θ_{k+1} = ( (1/L_k) * IntegralTerm )^(κ₁ / (κ₁ + \gamma_{1}))`.

    d.  **Calculate new `p` and `q`:**
    *   `p_{k+1} = (θ_{k+1})^(1-\gamma_{1})`
	*   `q_{k+1} = (θ_{k+1})^(-\gamma_{1})`

    e.  **Update the Surplus Matrix `S_{k+1}`:**
    - For each firm type ψ, calculate the number of vacancies posted using the new `q_{k+1}` and the existing `B_k(ψ):`  `v_{k+1}(ψ) = ( (q_{k+1} * B_k(ψ)) / κ₀ )^(1/κ₁)`
	*   Calculate the total mass of vacancies: `V_{k+1} = sum over ψ [ v_{k+1}(ψ)* dψ ]`.
	* Calculate the new distribution of vacancies that workers will meet:  `\gamma_{1}_{k+1}(ψ) = v_{k+1}(ψ) / V_{k+1}.`
	f. **Update the Surplus Matrix S_{k+1}:**
	*   For each worker type `h`, calculate the expected value from future search using the *old* surplus `S_old` and **newly calculated vacancy distribution `\gamma_{1}_{k+1}(ψ)`**:
          `ExpectedSearchValue_k(h) = sum over ψ' [ max(0, S_old(h, ψ')) * \gamma_{1}(ψ') ]`.
	*   Update the surplus matrix using the Bellman equation and the *new* job-finding rate `p_{k+1}`:
          `S_{k+1}(h, ψ) = [s(h, ψ) - β * p_{k+1} * ξ * ExpectedSearchValue_k(h)] / [1 - β(1 - δ)]`.
    g.  **Update the Unemployment Distribution `u_{k+1}`:**
    *   For each worker type `h`, calculate the probability of accepting a match, using the *newly updated* surplus `S_{k+1}`:
          `ProbAccept_{k+1}(h) = sum over ψ [ 1_{S_{k+1}(h,ψ)>0} * \gamma_{1}(ψ) ]`.
	*   Calculate the new unemployment rate using the *new* job-finding rate `p_{k+1}`:
          `unemp_rate_{k+1}(h) = δ / (δ + p_{k+1} * ProbAccept_{k+1}(h))`.
	*   Update the mass of unemployed workers: `u_{k+1}(h) = unemp_rate_{k+1}(h) * N(h)`.

    h.  **Check for Convergence:**
        *   Calculate the distance between successive surplus matrices: `diff = max(|S_{k+1} - S_old|)`.
        *   **If `diff` is below a small tolerance:** The loop has converged. Exit and proceed to Phase 2.
        *   **If not:** Set `S_k = S_{k+1}`, `u_k = u_{k+1}` and go back to the start of the loop (step 2a).

---

### **Phase 2: Post-Processing and Analysis**

Once the main loop converges, you have the final equilibrium objects: `S*`, `u*`, `θ*`, `p*`, `q*`. You can now calculate all other quantities of interest:

1.  **Vacancy Distribution `v*(ψ)`:** Calculate the final vacancy distribution using the converged `q*` and `B*`:
    `v*(ψ) = ( (q* * B*(ψ)) / κ₀ )^(1/κ₁)`.
2.  **Value of Unemployment `U*(h)`:** Calculate the final value of unemployment using the converged `p*` and `S*`.
3.  **Wage Distribution `w*(h, ψ)`:** Calculate the final wage policy using `U*(h)` and `S*(h, ψ)`.
4.  **Employed Distribution `n*(h, ψ)`:** Calculate the final distribution of employed workers using the steady-state flow conditions.
5.  **Aggregate Statistics:** Calculate total unemployment, average wage, measures of sorting, etc.

---

## **Appendix: Microfoundation of the Nash Bargaining Solution**

This appendix derives the wage and remote-work contract $(w, \alpha)$ as the subgame perfect equilibrium of an infinite-horizon bargaining game between a type-$h$ worker and a type-$\psi$ firm. The outcome is the generalized Nash bargaining solution used in the main text, where the worker receives a share $\xi$ of the match surplus.

Consider a newly matched worker and firm who must agree on a contract $(w, \alpha)$. The negotiation proceeds in discrete time periods according to the following rules:

1.  **Alternating Offers:** In each period, one player is selected to propose a contract. The worker is selected with probability $\xi$, and the firm is selected with probability $1-\xi$. The parameter $\xi \in [0,1]$ represents the worker's ex-ante bargaining power.
2.  **Accept or Reject:** The other player observes the proposed contract and can either **accept** or **reject** it.
    *   If the offer is **accepted**, the game ends. The contract is implemented, and the players receive their respective values.
    *   If the offer is **rejected**, the game moves to the next period.
3.  **Costs of Delay:** Delay is costly. Between any two periods, future payoffs are discounted by the factor $\beta$, and the match may be exogenously destroyed with probability $\delta$. The effective discount factor for continuing the negotiation is therefore $\beta(1-\delta)$. If the match is destroyed, the worker receives their unemployment value $U(h)$, and the firm receives a value of zero.

As established in the main text, we assume efficient bargaining. The parties first choose the remote-work share $\alpha^*$ to maximize the total match surplus, $S(h, \psi)$. The negotiation is therefore over how to split this maximized surplus.

Let $W(h, \psi)$ and $\Pi(h, \psi)$ be the equilibrium lifetime values for the worker and the firm, respectively, resulting from the negotiation. The worker's value is composed of their outside option plus their share of the surplus, $W(h, \psi) = U(h) + \text{Worker's Share}$. The firm's value is its share of the surplus, $\Pi(h, \psi) = \text{Firm's Share}$. The total surplus is the sum of these shares:
$$
S(h, \psi) = [W(h, \psi) - U(h)] + \Pi(h, \psi)
$$

The equilibrium is characterized by stationary strategies where a player proposes a contract that makes the other party *just indifferent* between accepting the offer and rejecting it to continue the game.

**The Value of Continuing the Game:**
If an offer is rejected, both players wait one period. The expected value of continuing the negotiation, discounted to today, is $\beta (1 - \delta)$ times the equilibrium value they expect to get.
*   The worker's continuation value is $\beta (1 - \delta)W(h, \psi)$.
*   The firm's continuation value is $\beta (1 - \delta)\Pi(h, \psi)$.

**The Offers:**

1.  **When the Worker Proposes (with probability $\xi$):**
    The worker wants to maximize their own value, $W$. To secure the firm's acceptance, they must offer the firm a contract that delivers at least its continuation value, $\beta (1 - \delta) \Pi (h, \psi)$. The worker's optimal proposal will give the firm exactly this value. The worker's value from this proposal is the remainder of the total value created by the match, $J(h, \psi) = W(h, \psi) + \Pi(h, \psi)$.
    $$
    \text{Worker's value when proposing} = J(h, \psi) - \beta(1-\delta)\Pi(h, \psi)
    $$

2.  **When the Firm Proposes (with probability $1-\xi$):**
    The firm wants to maximize its own value, $\Pi$. It must offer the worker a contract that delivers at least their continuation value, $\beta (1 - \delta)W(h, \psi)$. The firm's optimal proposal will give the worker exactly this value.
    $$
    \text{Worker's value when firm proposes} = \beta(1-\delta)W(h, \psi)
    $$

The worker's equilibrium value, $W(h, \psi)$, must be equal to the probability-weighted average of the values they receive in each scenario:
$$
W(h, \psi) = \xi \left[ J(h, \psi) - \beta(1-\delta)\Pi(h, \psi) \right] + (1-\xi) \left[ \beta(1-\delta)W(h, \psi) \right]
$$
To solve this, we substitute $J(h, \psi ) = W(h, \psi) + \Pi(h, \psi)$:
$$
W(h, \psi) = \xi \left[ W(h, \psi) + \Pi(h, \psi) - \beta(1-\delta)\Pi(h, \psi) \right] + (1-\xi)\beta(1-\delta)W(h, \psi)
$$
Expand and rearrange:
$$
W(h, \psi) = \xi W(h, \psi) + \xi \Pi(h, \psi) [1 - \beta(1-\delta)] + (1-\xi)\beta(1-\delta)W(h, \psi)
$$
Group the $W(h, \psi)$ terms on the left-hand side:
$$
W(h, \psi) \left[ 1 - \xi - (1-\xi)\beta(1-\delta) \right] = \xi \Pi(h, \psi) [1 - \beta(1-\delta)]
$$
Factor $(1-\xi)$ from the left-hand side bracket:
$$
W(h, \psi) (1-\xi) \left[ 1 - \beta(1-\delta) \right] = \xi \Pi(h, \psi) [1 - \beta(1-\delta)]
$$
Since $\beta(1-\delta) < 1$, the term $[1 - \beta(1-\delta)]$ is non-zero and we can divide both sides by it:
$$
W(h, \psi) (1-\xi) = \xi \Pi(h, \psi)
$$
This is the classic Nash bargaining sharing rule. It states that the surplus is divided in proportion to the bargaining weights. To see this more clearly, substitute $W(h, \psi) = U(h) + \text{Worker's Share}$ and $\Pi(h, \psi) = \text{Firm's Share}$:
$$
[U(h) + \text{Worker's Share}](1-\xi) = \xi (\text{Firm's Share})
$$
Since this must hold for any $U(h)$, it implies that the surplus itself is split according to:
$$
\frac{\text{Worker's Share}}{\text{Firm's Share}} = \frac{\xi}{1-\xi}
$$
This means the worker receives a fraction $\xi$ of the total surplus, and the firm receives $1-\xi$.


The outcome of the bargaining game is that the worker's net gain from the match is a share $\xi$ of the total match surplus $S(h, \psi)$.
$$
W(h, \psi) - U(h) = \xi S(h, \psi)
$$
This provides the microfoundation for the bargaining solution used in the main body of the paper:
$$
W(h, \psi) = U(h) + \xi S(h, \psi)
$$
The equilibrium wage $w^*(h, \psi)$ is the wage that, given the efficient remote-work share $α^*(h, \psi)$, delivers exactly this value to the worker, as solved for in the main text.

---

## **Appendix: Microfoundation via the Axiomatic Nash Bargaining Solution**

**The Nash Bargaining Framework** caracterizes a unique solution to a bargaining problem based on a set of desirable axioms. The solution is found by maximizing the "Nash product," which is the product of the players' gains from agreement relative to their disagreement point. The key components of our problem are:
1. **The Set of Feasible Payoffs:** This is the set of all possible lifetime values $(W, \Pi)$ that the worker and firm can achieve. The total value they can generate together is the joint value of the match, $J(h, \psi)$. The feasible set is therefore defined by: $$ W + \Pi \leq J(h, \psi) $$Since the outcome will be Pareto efficient, the constraint binds: $W + \Pi = J(h, \psi)$.
2. **The Disagreement Point (Threat Point):** This is the outcome if no agreement is reached.
	* The worker rejects the offer and remains unemployed, receiving their lifetime value of unemployment. Their disagreement payoff is **$d_W = U(h)$**.
	* The firm's vacancy remains unfilled, and it gains nothing. Its disagreement payoff is **$d_F = 0$**.

**Maximization Problem:**
The generalized Nash bargaining solution is the pair of lifetime values $(W^*, \Pi^*)$ that solves the following problem:
$$
\max_{W, \Pi} \quad (W - d_W)^\xi (\Pi - d_F)^{1-\xi}
$$
subject to the feasibility constraint $W + \Pi = J(h, \psi)$. Substituting our specific disagreement points gives:
$$
\max_{W, \Pi} \quad (W - U(h))^\xi (\Pi - 0)^{1-\xi} \quad \text{s.t.} \quad W + \Pi = J(h, \psi)
$$

**Solving the Maximization Problem**
We use substitution. From the constraint, express the firm's value as $\Pi = J(h, \psi) - W$. The problem becomes:
$$
\max_{W} \quad (W - U(h))^\xi (J(h, \psi) - W)^{1-\xi}
$$
To simplify, we maximize the natural logarithm of the objective function. Let $J \equiv J(h, \psi)$ and $U \equiv U(h)$ for notational simplicity.
$$
\mathcal{L}(W) = \xi \ln(W - U) + (1-\xi) \ln(J - W)
$$

Take the first-order condition with respect to $W$ and set it to zero:
$$
\frac{\partial \mathcal{L}}{\partial W} = 0 \quad \implies \quad \frac{\xi}{W - U} = \frac{1-\xi}{J - W} \quad \implies \quad 
\xi (J - W) = (1-\xi) (W - U) \quad \implies \quad \xi J = W - U + \xi U
$$
Solving for $W$:
$$
W^* = \xi J(h, \psi) + (1-\xi)U(h)
$$

To see how this relates to the surplus sharing rule, let's find the worker's *net gain* from the match, which is $W* - U(h)$:
$$
\begin{align*}
W^* - U(h) &= [\xi J(h, \psi) + (1-\xi)U(h)] - U(h) \\
&= \xi J(h, \psi) + U(h) - \xi U(h) - U(h) \\
&= \xi J(h, \psi) - \xi U(h) \\
&= \xi [J(h, \psi) - U(h)] \\

\end{align*}
$$

By definition, $J(h, \psi) - U(h)$ is the total match surplus, $S(h, \psi)$. Therefore, we have:
$$
\underbrace{W^* - U(h)}_{\text{Worker's Share of Surplus}} = \xi \cdot \underbrace{S(h, \psi)}_{\text{Total Surplus}}
$$

This result provides a direct microfoundation for the surplus sharing rule used in the main text. The worker's total value from the match is their outside option plus their share $\xi$ of the surplus:
$$
W(h, \psi) = U(h) + \xi S(h, \psi)
$$
This is precisely the bargaining outcome equation used to determine the equilibrium wage. This axiomatic approach, correctly formulated with the proper disagreement points, confirms the model's surplus-sharing mechanism.

## **A Recipe for Initial Calibration**

The goal of this calibration is to choose a set of structural parameters that allows the model to replicate key features of the U.S. labor market. We will proceed in three phases:
1.  **Set parameters based on standard values from the literature or direct data.** *("external"  parameters to the model's core mechanisms.)*
2.  **Set parameters that govern the shape of the model's unique policy functions.** This involves using the closed-form solutions to define the work arrangement regimes.
3.  **Set the remaining parameters to match a key aggregate moment.** This ensures the model operates at a realistic level of economic activity.

### **Phase 1: Setting "Off-the-Shelf" Parameters**

These parameters are chosen to match long-run features of the U.S. economy and are standard in the search and matching literature.

*   **Discount Factor ($\beta$):**
    *   **Target:** The model period is one month. We target a standard annual real interest rate of 4%.
    *   **Value:** $\beta = \left(\frac{1}{1 + 0.04}\right)^{1/12} \approx 0.997$.
    *   **Reference:** This is a standard value, for example, [@shimer2005], [@hall2005]. 

*   **Job Destruction Rate ($\delta$):**
    *   **Target:** The average monthly rate at which workers separate from their jobs (quits + layoffs).
    *   **Value:** We target a monthly separation rate of 3.5%, which is consistent with data from the [U.S. Bureau of Labor Statistics (BLS) Job Openings and Labor Turnover Survey (JOLTS)](https://www.bls.gov/opub/ted/2025/job-openings-hires-and-separations-little-changed-in-may-2025.htm). This implies an average job duration of about $2.5$ years $(1 / 0.035 ≈ 28.6$ months).
	    * We set $\delta = 0.035$.
    *   **Reference:** The use of JOLTS data for calibrating worker flows is standard practice, as seen in [@davis2012]

*   **Matching Function Elasticity ($\gamma_{1}$) and Worker Bargaining Power ($\xi$):**
    *   **Target:** We invoke the [@hosios1990] condition for search efficiency, which states that the decentralized equilibrium is efficient if each party's share of the surplus matches the elasticity of the matching function with respect to their input.
    *   **Value:** 
	    * We assume a standard Cobb-Douglas matching function with equal weights, so the elasticity of matches with respect to unemployment is $\gamma_{1} = 0.5$. 
		    * *Note:* The Cobb-Douglas with $\gamma_{1} = 0.5$ is done for simplicity in this initial stage. Both can be relaxed/modified later.
	    * The Hosios condition then implies the worker's bargaining share should be $\xi = 0.5$.
	    * To keep things simple for now we set $\gamma_0 = 1.0$.
    *   **Reference:** This is the canonical calibration choice, as laid out in [@pissarides2000]

### **Phase 2: Calibrating the Policy Shape Parameters**

Here, we define the shape of the "Work Arrangement Regimes" plot. This step gives the model its specific character regarding remote work.

*   **Normalization of Productivity ($A_1$, $\nu$):**
    *   **Target:** To make other parameters interpretable, we normalize the core productivity multipliers.
    *   **Action:** Set $A_1 = 1.0$ and $\nu = 1.0$. This means $c_{0}$ can be interpreted as the cost of in-office work relative to the baseline productivity of a worker with $h=1$.
    *   **Justification:** 
	    * Imagine a simplified production function for a match between a worker of human capital `h` and a firm, ignoring the firm-specific productivity $\psi = 0$ for a moment, in that case the productivity of a worker is $A_1 \cdot \nu \cdot h$ and the net output of full of in-person work, $c_0$. This cost represents resources that are used up and don't contribute to output (e.g., commercial rent, commuting friction, fixed utility costs). The net output of the match *before* wages and profits are distributed is: $$\text{Net Output} = (A_1 \cdot \nu \cdot h) - c_0$$Consider a  worker with human capital **$h = 1$**. Their net output is: $(A_1 \cdot \nu) - c_0$ In this scenario, what does $c_0$ mean? If $c_0 = 0.2$, its significance depends entirely on the value of $(A_1 \cdot \nu)$:
			*   If $A_1 = 2.0$ and $\nu = 1.5$, baseline productivity is 3.0. A cost of 0.2 is relatively small ($0.2 / 3.0 \approx 6.7\%$ of productivity).
			*   If $A_1 = 0.8$ and $\nu = 1.0$, baseline productivity is 0.8. A cost of 0.2 is now very significant ($0.2 / 0.8 = 25\%$ of productivity).
		* The effect of the cost ($c_0$) is entangled with the general productivity level ($A_1, \nu$). We can get the same net output from different combinations of these parameters thus leading to an identification problem.
		* To solve this, we make the following normalization: Set $A_1 = 1.0$ and $\nu = 1.0$. The net output for this baseline worker is now: $$\text{Net Output}= 1 - c_0$$with this normalization in, the interpretation of $c_0$ becomes direct:
			* Since the baseline productivity is $1$, the cost $c_0$ is being subtracted directly from that unit.
			*   Therefore, **$c_0$ represents the fraction of a baseline worker's productivity that is consumed by the costs of in-office work.**
			* **Example:** If we set or estimate $c_0 = 0.15$, the normalization allows us to state clearly: "The cost of having a worker in the office is equivalent to 15% of the output of a standard (h=1) worker.
*   **Worker Preferences ($c_0$, $\chi$):**
    *   **Target:** Choose values that produce a non-trivial hybrid region with a reasonably smooth transition.
    *   **Action:**
        1.  Set $\chi = 2.5$. This value is low enough to avoid the extreme "snap" to corner solutions seen with higher values, but high enough to maintain a meaningful degree of concavity in worker preferences.
        2.  Set $c_0 = 0.2$. This value, relative to $A_1=1$, ensures that the hybrid region is sufficiently wide to be a significant feature of the economy.
    *   **Justification:** These parameters are hard to discipline with data. This choice is a reasonable starting point that can be refined later (in the estimation phase).
- **Calibrating the production function parameters ($\phi$, $\psi_0$) with economic restrictions:** Instead of choosing $\phi$ and $\psi_0$ arbitrarily, we pin them down using economically meaningful assumptions about the shape of the $\underline{\psi}(h)$ threshold curve:
    1.  **Pinning $\phi$ via the Slope Condition:** A key economic assumption is that for any firm, a more skilled worker is always more (or equally) desirable for a hybrid arrangement. This requires the threshold $\underline{\psi}(h)$ to be strictly decreasing for all $h$ in our domain, $[h_{min}, h_{max}]$. The derivative of the threshold is negative only when $h > c_0 / (\phi A_1)$. To ensure this holds for our entire domain, we impose the condition that the curve's minimum occurs exactly at $h_{min}$ ^[Notice that this is the most strict condition we could have imposed, but this can be changed to math any empircally relevant level of $h$]. This gives the calibration equation $h_{min} = c_0 / (\phi A_1)$, which yields: $$ \phi = \frac{c_0}{A_1 h_{min}} $$

    2.  **Pinning $\psi_{0}$ via a Target Point:** With $\phi$ determined, we use a single target point, $(h_{min}, \psi_{max})$, to solve for $\psi_0$. This imposes the condition that a a hybrid/remote arrangement for least skilled workers will only be optimal if they are matched with the most remote-efficient firms^[Notice that this is the most strict condition we could have imposed, but this can be changed to math any empircally relevant level of $h$]. We impose $\underline{\psi}(h_{min}) = \psi_{max}$ and solve for $\psi_0$: $$ \psi_0 = \nu \psi_{max} - 1 + \phi\log(h_{min}) + \frac{c_0}{A_1h_{min}} $$
### **Phase 3: Matching an Aggregate Target**

With the model's internal logic set, we now use the remaining parameters to ensure the model's aggregate activity level is realistic.

*   **Unemployment Benefit ($b$):**
    *   **Target:** The replacement rate of income during unemployment.
    *   **Value:** We set $b = 0.4$. This is a standard, conservative value for the replacement rate provided by unemployment insurance and other benefits in the U.S.
    *   **Reference:** This is in the range of values considered by [@shimer2005] and subsequent literature analyzing the unemployment volatility puzzle.

*   **Vacancy Cost Parameters ($\kappa_{1}$, $\kappa_{0}$):**
    *   **Target:** Match a long-run aggregate unemployment rate of 5%.
    *   **Action:**
        1.  Set the convexity parameter $\kappa_{1} = 1.0$. This implies a standard quadratic cost function for posting multiple vacancies.
        2.  Use the level parameter $\kappa_0$ as the final tuning knob. Iteratively solve the model and adjust $\kappa_0$  until the aggregate unemployment rate is approximately 5%. If unemployment is too high, decrease $\kappa_0$ ; if it's too low, increase $\kappa_0$ .
    *   **Justification:** Vacancy posting costs are difficult to measure directly. Therefore, $\kappa_0$  is  treated as the "residual" parameter calibrated to match the equilibrium level of unemployment, given all other parameter choices.

**Summary of Calibration Recipe**

| Parameter | Value      | Justification                                                                          | Phase |
| :-------- | :--------- | :------------------------------------------------------------------------------------- | :---- |
| `β`       | 0.997      | Matches 4% annual real interest rate (monthly model).                                  | 1     |
| `δ`       | 0.035      | Matches average monthly separation rate (JOLTS data).                                  | 1     |
| `γ₀`      | 1.0        | Normalization.                                                                         | 1     |
| `γ₁`      | 0.5        | Standard Cobb-Douglas matching function assumption.                                    | 1     |
| `ξ`       | 0.5        | Follows from `γ₁` via the Hosios condition.                                            | 1     |
| `A₁`      | 1.0        | Normalization for interpretability.                                                    | 2     |
| `ν`       | 1.0        | Normalization for interpretability.                                                    | 2     |
| `χ`       | 2.5        | Assumed moderate preference curvature for smooth policies.                             | 2     |
| `c₀`      | 0.2        | Assumed baseline cost to create a non-trivial hybrid region.                           | 2     |
| `φ`       | Calibrated | Calibrated to ensure `underline{ψ}` is always decreasing.                              | 2     |
| `ψ₀`      | Calibrated | Calibrated to make `underline{ψ}` pass through a single target point `(h_min, ψ_max)`. | 2     |
| `b`       | 0.4        | Standard replacement rate for unemployment benefits.                                   | 3     |
| `κ₁`      | 1.0        | Assumes standard convex (quadratic) vacancy costs.                                     | 3     |
| `κ₀`      | Calibrated | **Final tuning knob** to match a 5% aggregate unemployment rate.                       | 3     |
- - -
## **Strategy for Comparative Statics**

### **Phase 1: Establish a "Benchmark" Economy**
1.  **Solve and Save:** Solve your model with the current, well-understood set of parameters. Save *all* the results: the `Primitives` struct used, the `Results` struct (with all policies and distributions), and the key plots. This is the **Benchmark Economy**.
2.  **Identify Key Outcomes:**
    *   **Aggregate Outcomes:**
        *   Aggregate Unemployment Rate ($U_{agg} = \sum_{h}(u_h) / \sum_h(N_h)$)
        *   Market Tightness ($\theta$)
        *   Total Vacancies ($V$)
        *   Average Wage
    *   **Distributional Outcomes:**
        *   **Sorting Pattern:** Measures of statistical dependence between worker skill ($h$) and firm remote efficiency ($\psi$) in the employment distribution $n(h,\psi)$.
            *   **Conditional Mean $\mathbb{E}[\psi | h]$:** The average firm efficiency for workers at different skill levels. 
            *   **Spearman's Rank Correlation ($\rho$):** A single value between -1 and 1 measuring the strength and direction of the monotonic relationship between worker and firm types. A value of +1 indicates perfect positive sorting.
            *   **Mutual Information ($\mathbb{I}(H; Ψ)$):** A non-negative value measuring the overall statistical dependence. It is zero if and only if matching is random; a higher value indicates stronger sorting of any kind (linear or non-linear).
        *   **Wage Inequality:** Measures of dispersion in the wage distribution, weighted by the employment distribution $n(h,\psi)$.
            *   **Gini Coefficient:** A standard measure of overall inequality, ranging from 0 (perfect equality) to 1 (maximum inequality).
            *   **Percentile Ratios**: *(90/10, 90/50, 50/10):* Ratios of wages at different points in the distribution, useful for distinguishing between top-half and bottom-half inequality.
            *   **Skill Premium:** The ratio of the average wage of the highest-skilled workers to the lowest-skilled workers, isolating the return to skill.
            *   **Within-Group Inequality:** A measure of wage dispersion (e.g., *90/10* ratio) among workers with the same skill level, capturing the importance of firm heterogeneity.
    *   **Work Arrangement Outcomes:**
        *   Share of workers in each regime (In-Person, Hybrid, Full Remote)
        *   Average $\alpha$ in the economy.
3. **Connecting Model to Data Facts:**
	1. **Illustrating Stylized Fact I: Remote Work Correlates with Higher Wages:**
		- **The Empirical Finding:** Jobs that are more "teleworkable" and jobs that are actually "work-from-home" (WFH) are associated with higher wages.
		- **Hypothesis in the Model:** Matches with high firm remote efficiency ($\psi$) and matches that are actually hybrid/remote ($\alpha^* > 0$) will have higher average wages. This is due to **selection**: only the most productive pairs (high $h$ and/or high $\psi$) can support remote work.
		- **Idea 1: The Direct Regression Analogue,** the most direct way to show the model matches the empirical evidence:
			- **Method:** Create a simulated dataset. Each observation is a unique $(h, \psi)$ pair, weighted by its employment mass $n(h, \psi)$ and then run the following regressions:
			    *   **Regression 1: $\log(w(h, \psi)) \sim \psi$
			    *   **Regression 2:** $\log(w(h, \psi)) \sim \psi  + I(\alpha^*(h, \psi) > 0)$ where $I(\alpha^*(h, \psi) > 0)$ is a dummy for remote work.
			*   **Expected Result:** Positive and significant coefficients oking gizzn $\psi$ and $I(\alpha^*(h, \psi) > 0)$. This shows your model generates the same macro-level correlations.
		* **Idea 2: Visualizing Conditional Averages:**
			* **Method:** Create two plots:
			    - **Plot 1: Wage vs. Teleworkability.** Plot the average wage conditional on firm efficiency, $\mathbb{E}[w | \psi]$. This shows how wages change as you move from low- to high-$\psi$ firms.
			    -  **Plot 2: The "Remote Wage Premium."** Create a bar chart comparing the average wage of all workers in in-person jobs ($\alpha^* = 0$) versus the average wage of all workers in hybrid/remote jobs ($\alpha^* > 0$).
			*   **Expected Result:**
			    *   The $\mathbb{E}[w | \psi]$ plot should be upward sloping.
			    *   The bar chart should show a significantly higher bar for the hybrid/remote group.
			*   **Economic Intuition to Highlight:** These plots illustrate the powerful **selection effect**. Your "Work Arrangement Regimes" plot shows that hybrid/remote jobs are only viable for high-skill workers and/or high-efficiency firms. These are precisely the matches that generate the most surplus, and therefore can pay the highest wages.
	2. **Illustrating Stylized Fact II: Within Occupations, Remote Workers Earn More:**
		- **The Empirical Finding:** Within a given occupation, workers who are remote earn more than their in-person colleagues.
		-  **The Model Analogue:**
			- An "occupation" is defined by its tasks and how easy they are to telework (**$\psi$**). A high-$\psi$ think tech or finance;  low-$\psi$ retail or manufacturing for example.
		- **Hypothesis in the Model:** For a fixed occupation $\psi$, the decision of whether a specific job is remote or in-person is determined by the matched worker skill $(h)$. Only workers with sufficiently high skill ($h$) will be productive enough to make a remote or hybrid arrangement viable. Therefore, the observed "within-occupation remote premium" is not a premium for remote work itself, but rather a **skill premium in disguise**. Remote workers earn more because, within any given occupation, they are the more skilled individuals.
		1. **Idea 1: The Fixed Effects Regression Analogue:**
			*   **Method:** We will run the same regression as in Idea 1 for Fact I, but now include "fixed effects" for occupation $\psi$. In practice, this means adding a set of dummy variables for different bins of $\psi$.
			    *   **Regression:** $\log(w(h, \psi)) \sim \psi  + I(\alpha^*(h, \psi) > 0) + \text{FE}_{\psi}$
			*   **Expected Result:** The coefficient on the WFH indicator $I(\alpha^*(h, \psi) > 0)$ should remain positive and significant.
		2. **Idea 2: The "Slicing" Visualization**
			* **Method:**
			    1.  **Pick a skill level:** Choose a specific worker skill level, $\overline{\psi}$ (e.g., the median skill).
			    2.  **"Slice" the data:** Take only the row corresponding to $\psi = \overline{\psi}$ .
			    3.  **Separate the groups:** Within this slice of firms in the same occupation, separate them into two groups based on the arrangement they offer:
			        *   Group A (In-Person): Matches where $\alpha^*(\overline{h}, \psi) = 0$.
			        *   Group B (Hybrid/Remote): Matches where $\alpha^*(\overline{h}, \psi) > 0$.
				4.  **Compare Worker Skill:** Calculate the $\mathbb{E}[h]$ for Group A and Group B.
				5.  **Compare wages:** Calculate the average wage for Group A and Group B.
			    6.  **Create a plot:** Bar chart of this "within-skill wage gap" for a few different skill levels for example ($h_{\text{low}},\: h_{\text{medium}}$ and $h_{\text{high}}$).
			* **Expected Result:**
			    - The average skill $\mathbb{E}[h]$ of the hybrid/remote group will be significantly higher than the in-person group.
			    - Consequently, the average wage of the hybrid/remote group will also be higher.
			- **What this shows:** It directly demonstrates that the wage premium is driven by the fact that remote workers are, on average, more skilled within that same occupation.
### **Phase 2: Select Parameters and Design Experiments**

#### **Proposed Experiment 1: The Role of $h$-$\psi$ Complementarity**

**Objective:** To understand how the degree of complementarity between worker skill ($h$) and firm remote efficiency ($\psi$) shapes labor market outcomes, including sorting patterns, work arrangements, wage inequality, and unemployment.

**Methodology:**  The parameter $\nu$ directly controls the strength of this complementarity. We will perform a comparative static analysis by varying $\nu$ over a meaningful range, while holding all other structural parameters of the economy constant.

1. **The Problem:** Current calibration normalizes $\nu = 1.0$. This normalization is part of what pins down $\psi_0$. Changing $\nu$ while holding $\psi_0$ constant would shift the threshold curves, confounding the effect of complementarity with a level shift in remote productivity.
2. **The Solution: Re-calibration.** The approach is to re-calibrate $\psi_0$ for each value of $\nu$ to keep the "level" of the policy function constant. This isolates the effect of the change in the slope of the complementarity.

**Proposed Experimental Steps:**

1. **Define a Range for $\nu$:**  We choose a range around the baseline of 1.0. $\nu \in[0, 2]$, this range includes:
    - $\nu = 0$: The "No Complementarity" case.
    - $\nu= 1$: Benchmark economy.
    - $\nu = 2$: A "High Complementarity" case.
        
2. **Implement the Counterfactual Loop:** For each value of $\nu$ in your chosen range:  
    1. **Keep Deep Parameters Fixed:** Hold all Phase 1 and most Phase 2 parameters constant $(\beta, \delta, \gamma_1, \xi, A_{1}, c_{0}, \chi, \phi)$. Note that $\phi$ is fixed because it was determined by $c_0$, $A_1$, and $h_{min}$, none of which are changing.  
    2. **Re-Calibrate $\psi_0$:** Use your target point condition to solve for a new $\psi_0$ that corresponds to the current $\nu$. This ensures that for every $\nu$, the $\underline{\psi}(h)$ curve still starts at the same point $(h_{min}, \psi_{max})$. This isolates the effect of $\nu$ on the curvature and slope of the thresholds, not their starting point.  
    3. **Re-Calibrate $\kappa_0$:** With the new $\nu$ and $\psi_0$, the overall surplus in the economy will change. To make the results comparable, re-calibrate the vacancy cost level $\kappa_{0}$ to ensure the aggregate unemployment rate remains at the target of 5%. This is crucial: it means you are comparing economies with different internal structures but the **same overall level of labor market slack**.  
    4. **Solve and Store Results:** Solve the full model and store all key outcomes (sorting measures, inequality measures, work arrangement shares, etc.).
    
3. **Analyze and Plot:** Plot the key outcomes against the range of $\nu$ values.
    

**What to Look For (Hypotheses)** Here are the key outcomes to analyze and the expected effects of increasing $\nu$:
- **Work Arrangement Regimes Plot:**
    - **Hypothesis:** As $\nu$ increases, the $\underline{\psi}(h)$ and $\overline{\psi}(h)$ curves should become **steeper** (more negatively sloped). A stronger complementarity means that a small increase in worker skill $h$ has a much larger effect on remote productivity, so the firm efficiency $\psi$ required to make remote work viable drops more quickly. The hybrid and remote regions will expand, especially for high-h workers.   
-  **Sorting Patterns:**
    - **Hypothesis:** The **Spearman's Rank Correlation ($\rho$)** and **Mutual Information ($\mathbb{I}$)** should both **increase** with $\nu$. A stronger complementarity provides a stronger incentive for positive assortative matching, so high-$h$ workers will sort more aggressively into high-$\psi$ firms.
        
- **Wage Inequality:**
    
    - **Hypothesis:** The effect is ambiguous and interesting.
        
        - **Skill Premium:** Should **increase**. With stronger complementarity, the productivity (and thus wage) gap between a high-h worker at a high-ψ firm and a low-h worker at a low-ψ firm will widen.
            
        - **Within-Group Inequality:** Might **decrease**. As sorting becomes stronger, there will be less "mismatch" of workers of a given skill h across firms of different ψ, potentially reducing wage dispersion within skill groups.
            
        - **Overall Inequality (Gini/90-10):** The net effect is an empirical question for your model to answer. It depends on whether the rising skill premium dominates the falling within-group inequality.
            
7. **Work Arrangement Shares:**
    
    - **Hypothesis:** The aggregate shares of **Hybrid** and **Full Remote** work should **increase** with ν. Stronger complementarity makes these arrangements more productive and viable for a wider range of matches.
        

By structuring the experiment this way, you can tell a powerful story about how the fundamental nature of production technology (ν) drives sorting, inequality, and the future of work in your model's economy.